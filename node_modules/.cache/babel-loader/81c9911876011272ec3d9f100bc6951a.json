{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/ruta/Documents/my_websites/auction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/ruta/Documents/my_websites/auction/src/components/Item/ItemOverview/Carousel.js\";\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n                              filter: blur(0px);\\n                              transition: 300ms filter ease;\\n                            \"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n                              filter: blur(8px);\\n                            \"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n            position: relative;\\n            * {\\n              box-sizing: border-box;\\n            }\\n          \"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { virtualize } from \"react-swipeable-views-utils\";\nimport { State } from \"react-powerplug\";\nimport { css } from \"react-emotion\";\nimport cloudinaryUrl from \"./utils/cloudinaryUrl\";\nimport ProgressiveImage from \"./ProgressiveImage\";\nimport BackgroundImage from \"./BackgroundImage\";\nimport Pagination from \"./Pagination\";\nimport ArrowNavigation from \"./ArrowNavigation\";\nconst VirtualizeSwipeableViews = virtualize(SwipeableViews);\n\nconst Carousel = ({\n  imageUrls,\n  initialIndex,\n  width\n}) => {\n  const slideCount = imageUrls.length || 0;\n  return React.createElement(State, {\n    initial: {\n      index: initialIndex,\n      loadedIndexes: [0],\n      hover: false\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, ({\n    state,\n    setState\n  }) => React.createElement(\"div\", {\n    className: css(_templateObject()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(VirtualizeSwipeableViews, {\n    index: state.index,\n    overscanSlideAfter: 6,\n    overscanSlideBefore: 2,\n    onChangeIndex: value => setState({\n      index: value,\n      loadedIndexes: [value, ...state.loadedIndexes]\n    }),\n    onMouseEnter: () => setState({\n      hover: true\n    }),\n    onMouseLeave: () => setState({\n      hover: false\n    }),\n    onTouchStart: () => state.hover ? setState({\n      hover: false\n    }) : undefined,\n    onTouchEnd: () => state.hover ? setState({\n      hover: false\n    }) : undefined,\n    slideCount: slideCount,\n    slideRenderer: ({\n      index,\n      key\n    }) => {\n      const url = imageUrls[index];\n      const image = state.loadedIndexes.includes(index) ? cloudinaryUrl({\n        w: width,\n        q: \"auto\"\n      }, url) : cloudinaryUrl({\n        w: 20,\n        e: \"blur:200\",\n        q: \"auto\"\n      }, url); // No need of a progressive image for index 0 as it is served by ssr\n      // this prevents blink\n\n      return React.createElement(ProgressiveImage, {\n        key: key,\n        src: image,\n        placeholder: cloudinaryUrl({\n          w: 20,\n          e: \"blur:200\",\n          q: \"auto\"\n        }, url),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, (src, loading) => React.createElement(BackgroundImage, {\n        bg: \"lightgray\",\n        className: loading && src ? css(_templateObject2()) : css(_templateObject3()),\n        key: key,\n        src: src,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), imageUrls.length > 1 && state.hover && React.createElement(ArrowNavigation, {\n    slideCount: slideCount,\n    index: state.index || 0,\n    onMouseEnter: () => setState({\n      hover: true\n    }),\n    onMouseLeave: () => setState({\n      hover: false\n    }),\n    onTouchStart: () => state.hover ? setState({\n      hover: false\n    }) : undefined,\n    onTouchEnd: () => state.hover ? setState({\n      hover: false\n    }) : undefined,\n    onChangeIndex: value => {\n      setState({\n        index: value,\n        loadedIndexes: [value, ...state.loadedIndexes]\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), imageUrls.length > 1 && React.createElement(Pagination, {\n    slideCount: slideCount,\n    index: state.index || 0,\n    onChangeIndex: value => setState({\n      index: value,\n      loadedIndexes: [value, ...state.loadedIndexes]\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })));\n};\n\nCarousel.defaultProps = {\n  initialIndex: 0,\n  width: 800\n};\nexport default Carousel;","map":{"version":3,"sources":["/home/ruta/Documents/my_websites/auction/src/components/Item/ItemOverview/Carousel.js"],"names":["React","SwipeableViews","virtualize","State","css","cloudinaryUrl","ProgressiveImage","BackgroundImage","Pagination","ArrowNavigation","VirtualizeSwipeableViews","Carousel","imageUrls","initialIndex","width","slideCount","length","index","loadedIndexes","hover","state","setState","value","undefined","key","url","image","includes","w","q","e","src","loading","defaultProps"],"mappings":"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","sourcesContent":["//@flow\nimport React from \"react\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { virtualize } from \"react-swipeable-views-utils\";\nimport { State } from \"react-powerplug\";\nimport { css } from \"react-emotion\";\nimport cloudinaryUrl from \"./utils/cloudinaryUrl\";\nimport ProgressiveImage from \"./ProgressiveImage\";\nimport BackgroundImage from \"./BackgroundImage\";\n\nimport Pagination from \"./Pagination\";\nimport ArrowNavigation from \"./ArrowNavigation\";\n\nconst VirtualizeSwipeableViews = virtualize(SwipeableViews);\n\nconst Carousel = ({ imageUrls, initialIndex, width }) => {\n  const slideCount = imageUrls.length || 0;\n  return (\n    <State initial={{ index: initialIndex, loadedIndexes: [0], hover: false }}>\n      {({ state, setState }) => (\n        <div\n          className={css`\n            position: relative;\n            * {\n              box-sizing: border-box;\n            }\n          `}\n        >\n          <VirtualizeSwipeableViews\n            index={state.index}\n            overscanSlideAfter={6}\n            overscanSlideBefore={2}\n            onChangeIndex={value =>\n              setState({\n                index: value,\n                loadedIndexes: [value, ...state.loadedIndexes]\n              })\n            }\n            onMouseEnter={() => setState({ hover: true })}\n            onMouseLeave={() => setState({ hover: false })}\n            onTouchStart={() =>\n              state.hover ? setState({ hover: false }) : undefined\n            }\n            onTouchEnd={() =>\n              state.hover ? setState({ hover: false }) : undefined\n            }\n            slideCount={slideCount}\n            slideRenderer={({ index, key }) => {\n              const url = imageUrls[index];\n              const image = state.loadedIndexes.includes(index)\n                ? cloudinaryUrl({ w: width, q: \"auto\" }, url)\n                : cloudinaryUrl({ w: 20, e: \"blur:200\", q: \"auto\" }, url);\n\n              // No need of a progressive image for index 0 as it is served by ssr\n              // this prevents blink\n              return (\n                <ProgressiveImage\n                  key={key}\n                  src={image}\n                  placeholder={cloudinaryUrl(\n                    { w: 20, e: \"blur:200\", q: \"auto\" },\n                    url\n                  )}\n                >\n                  {(src, loading) => (\n                    <BackgroundImage\n                      bg=\"lightgray\"\n                      className={\n                        loading && src\n                          ? css`\n                              filter: blur(8px);\n                            `\n                          : css`\n                              filter: blur(0px);\n                              transition: 300ms filter ease;\n                            `\n                      }\n                      key={key}\n                      src={src}\n                    />\n                  )}\n                </ProgressiveImage>\n              );\n            }}\n          />\n\n          {imageUrls.length > 1 && state.hover && (\n            <ArrowNavigation\n              slideCount={slideCount}\n              index={state.index || 0}\n              onMouseEnter={() => setState({ hover: true })}\n              onMouseLeave={() => setState({ hover: false })}\n              onTouchStart={() =>\n                state.hover ? setState({ hover: false }) : undefined\n              }\n              onTouchEnd={() =>\n                state.hover ? setState({ hover: false }) : undefined\n              }\n              onChangeIndex={value => {\n                setState({\n                  index: value,\n                  loadedIndexes: [value, ...state.loadedIndexes]\n                });\n              }}\n            />\n          )}\n          {imageUrls.length > 1 && (\n            <Pagination\n              slideCount={slideCount}\n              index={state.index || 0}\n              onChangeIndex={value =>\n                setState({\n                  index: value,\n                  loadedIndexes: [value, ...state.loadedIndexes]\n                })\n              }\n            />\n          )}\n        </div>\n      )}\n    </State>\n  );\n};\n\nCarousel.defaultProps = {\n  initialIndex: 0,\n  width: 800\n};\n\nexport default Carousel;\n"]},"metadata":{},"sourceType":"module"}